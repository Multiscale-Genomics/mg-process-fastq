{
    "_id": "process_wgbs_index",
    "name": "Process WGBS BS Seeker 2 Indexer",
    "title": "WGBS BS Seeker2 Indexer",
    "short_description": "Create the custom Bowtie2 index required by BS Seeker2. For full details about all parameters please consult the BS Seeker2 aligner documentation at https://github.com/BSSeeker/BSseeker2#44-bs_seeker2-call_methylationpy",
    "owner": {
        "institution": "EMBL-EBI",
        "author": "Mark McDowall",
        "contact": "mcdowall@ebi.ac.uk",
        "user": "",
        "url": "https://github.com/Multiscale-Genomics/mg-process-fastq"
    },
    "status": 0,
    "external": true,
    "has_custom_viewer": false,
    "keywords": [
        "dna"
    ],
    "infrastructure": {
        "memory": 12,
        "cpus": 4,
        "executable": "/home/pmes/code/mg-process-fastq/process_bs_seeker_index.py",
        "clouds": {
            "mug-bsc": {
                "launcher": "PMES",
                "workflowType": "COMPSs",
                "default_cloud": true
            }
        }
    },
    "input_files": [
        {
            "name": "fastq1",
            "description": "Sequence read file",
            "help": "path to a FASTQ sequence read file",
            "file_type": ["FASTQ"],
            "data_type": ["data_wgbs"],
            "required": true,
            "allow_multiple": false
        },
        {
            "name": "fastq2",
            "description": "Sequence read file",
            "help": "path to a FASTQ sequence read file",
            "file_type": ["FASTQ"],
            "data_type": ["data_wgbs"],
            "required": true,
            "allow_multiple": false
        },
        {
            "name": "genome",
            "description": "Genome sequence file",
            "help": "path to a assembly sequence file",
            "file_type": ["FASTA"],
            "data_type": ["sequence_genomic", "sequence_dna"],
            "required": true,
            "allow_multiple": false
        },
        {
            "name": "index",
            "description": "BS Seeker2 Bowtie2 Index",
            "help": "path to a assembly sequence file",
            "file_type": ["TAR"],
            "data_type": ["sequence_genomic", "sequence_dna"],
            "required": true,
            "allow_multiple": false
        },
        {
            "name": "bam",
            "description": "BS Seeker2 Bowtie2 aligned reads",
            "help": "path to a assembly sequence file",
            "file_type": ["bam"],
            "data_type": ["data_wgbs"],
            "required": true,
            "allow_multiple": false
        },
        {
            "name": "index",
            "description": "BS Seeker2 Bowtie2 aligned reads index",
            "help": "path to a assembly sequence file",
            "file_type": ["bai"],
            "data_type": ["data_wgbs"],
            "required": true,
            "allow_multiple": false
        }
    ],
    "input_files_combinations": [
        [
            "genome",
            "fastq1",
            "fastq2",
            "index",
            "bam",
            "bai"
        ]
    ],
    "arguments": [
        {
            "name": "aligner",
            "description": "Name of the aligner",
            "help": "Name of the aligner",
            "type": "string",
            "required": true,
            "default": "bowtie2"
        },
        {
            "name": "aligner_path",
            "description": "Location of the aligner libraries",
            "help": "Location of the aligner libraries",
            "type": "string",
            "required": true,
            "default": "${HOME}/lib/bowtie2-2.3.2"
        },
        {
            "name": "bss_path",
            "description": "Location of the BS Seeker2 code libraries",
            "help": "Location of the BS Seeker2 code libraries",
            "type": "string",
            "required": true,
            "default": "${HOME}/lib/BSseeker2"
        },
        {
            "name": "bss_pc_rm_SX_param",
            "description": "Remove reads with the XS:i:1 tag",
            "help": "Remove reads with the XS:i:1 tag",
            "type": "boolean",
            "required": true,
            "default": false
        },
        {
            "name": "bss_pc_rm_CCGG_param",
            "description": "Remove sites located at CCGG",
            "help": "Remove sites located at CCGG",
            "type": "boolean",
            "required": true,
            "default": false
        },
        {
            "name": "bss_pc_rm_overlap_param",
            "description": "Remove one pair if both pairs overlap",
            "help": "Remove one pair if both pairs overlap",
            "type": "boolean",
            "required": true,
            "default": false
        },
        {
            "name": "bss_pc_read_no_param",
            "description": "Lowest number of aligned reads for a site to be included in the wig file",
            "help": "Lowest number of aligned reads for a site to be included in the wig file",
            "type": "integer",
            "required": true,
            "default": 1
        }
    ],
    "output_files": [
        {
            "name": "index",
            "required": true,
            "allow_multiple": false,
            "file": {
                "file_type": "TAR",
                "meta_data": {
                    "visible": true,
                    "tool": "process_wgbs",
                    "description": "Output"
                },
                "file_path": "bt2.tar.gz",
                "data_type": "sequence_mapping_index_bowtie",
                "compressed": "gzip"
            }
        }
    ]
}